<div
  [dir]="currentUserId() === item()!.userId ? 'rtl' : 'ltr'"
  class="w-full h-fit p-2 rounded-md items-stretch flex gap-2"
>
  <!-- image -->
  <div class="w-fit grow flex flex-col relative">
    <div class="w-11 h-11 aspect-square sticky top-0 right-0 rounded-full">
      <img
        [src]="item()?.img"
        alt=""
        class="w-full h-full object-cover shadow-md rounded-full"
      />
    </div>
  </div>
  <div class="w-full h-fit flex flex-col gap-1 relative">
    @for (message of item()?.messages; track $index) {
    <div
      [ngClass]="{ '!bg-lime-50': currentUserId() === item()!.userId }"
      class="mtext text-slate-600 w-fit h-fit p-2 pb-[2px] {{
        $index==0 ? 'rounded-t-2xl' : 'rounded-t-lg'
      }} rounded-b-lg bg-white shadow flex flex-col gap-[2px]"
    >
      <span class="text-end"> {{ message.message }}</span>
      <!-- info -->
      <div class="w-full h-fit flex justify-start gap-3 pl-20">
        <!-- time -->
        @if (currentUserId()===item()!.userId) {
        <span class="text-blue-400 text-sm flex justify-center messages-center">
          <i
            class="fa {{ message.isSeen ? 'fa-check-double' : 'fa-check' }}"
          ></i>
        </span>
        }
        <span class="text-gray-400 text-xs">{{
          message.editedOn ? message.editedOn : message.createdOn
        }}</span>
      </div>
    </div>
    <svg viewBox="0 0 11 20" width="11" height="20" class="bubble-tail">
      <use href="#message-tail-filled"></use>
    </svg>

    <!-- <div class="w-fit h-fit p-2 rounded-lg bg-white shadow md">خیلی خری</div>
    <div class="w-fit h-fit p-2 rounded-lg bg-white shadow md">خیلی خری</div>
    <div class="w-fit h-fit p-2 rounded-lg bg-white shadow md">خیلی خری</div>
    <div class="w-fit h-fit p-2 rounded-lg bg-white shadow md">خیلی خری</div> -->
    }
  </div>
</div>
